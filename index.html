<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Medicine Reminder</title>

    <style>
        body {
            margin: 0;
            font-family: "Poppins", sans-serif;
            min-height: 100vh;
            background: linear-gradient(135deg, #c3f0f2, #e0f7fa);
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .container {
            width: 450px;
            padding: 35px;
            border-radius: 25px;
            backdrop-filter: blur(18px);
            background: rgba(255, 255, 255, 0.25);
            box-shadow: 0 8px 50px rgba(0, 0, 0, 0.2);
        }
        
        h2 {
            text-align: center;
            margin-bottom: 20px;
            color: #00796b;
            font-weight: 700;
        }
        
        label {
            font-size: 14px;
            margin-bottom: 5px;
            display: block;
            color: #004d40;
        }
        
        input {
            width: 100%;
            padding: 14px;
            border-radius: 12px;
            border: none;
            margin-bottom: 15px;
            background: rgba(255, 255, 255, 0.75);
            font-size: 14px;
            outline: none;
        }
        
        button {
            width: 100%;
            background: #00796b;
            border: none;
            padding: 15px;
            color: white;
            font-size: 16px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            letter-spacing: 1px;
            transition: 0.25s ease;
            margin-bottom: 10px;
        }
        
        button:hover {
            background: #004d40;
        }
        
        .list {
            margin-top: 25px;
        }
        
        .item {
            background: rgba(255, 255, 255, 0.4);
            margin-top: 12px;
            padding: 14px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #004d40;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }
        
        .item.ringing {
            animation: ringEffect 0.6s infinite;
        }
        
        @keyframes ringEffect {
            0% {
                transform: rotate(0deg);
            }
            25% {
                transform: rotate(2deg);
            }
            50% {
                transform: rotate(-2deg);
            }
            75% {
                transform: rotate(2deg);
            }
            100% {
                transform: rotate(0deg);
            }
        }
        
        .delete {
            background: crimson;
            border: none;
            padding: 2px 2px;
            color: white;
            font-size: 12px;
            border-radius: 6px;
            cursor: pointer;
        }
    </style>
</head>

<body>

    <div class="container">
        <h2>Medicine Reminder</h2>

        <label>Medicine Name</label>
        <input type="text" id="medicine" placeholder="Enter medicine name">

        <label>Time</label>
        <input type="time" id="time">

        <button onclick="addReminder()">Set Reminder</button>
        <button onclick="resetAll()" style="background:#004d40;">Reset All</button>

        <div class="list" id="list"></div>
    </div>

    <script>
        let reminders = [];
        let alarmSound = null;

        // Preload sound on first click
        window.onload = function() {
            document.body.addEventListener("click", () => {
                if (!alarmSound) {
                    alarmSound = new Audio("remainder.ogg");
                    alarmSound.loop = true; // continuous ringing
                }
            }, {
                once: true
            });
        };

        // Add reminder
        function addReminder() {
            const medicine = document.getElementById("medicine").value;
            const time = document.getElementById("time").value;

            if (!medicine || !time) {
                alert("Please enter all details!");
                return;
            }

            reminders.push({
                medicine,
                time,
                ringing: false
            });
            displayReminders();
        }

        // Display reminders
        function displayReminders() {
            const list = document.getElementById("list");
            list.innerHTML = "";

            reminders.forEach((r, index) => {
                const item = document.createElement("div");
                item.className = "item";
                if (r.ringing) item.classList.add("ringing");

                item.innerHTML = `
            <span>${r.medicine} â€” ${r.time}</span>
            ${r.ringing 
                ? '<button class="delete" onclick="stopRing('+index+')">Stop</button>'
                : '<button class="delete" onclick="removeReminder('+index+')">X</button>'
            }
        `;
                list.appendChild(item);
            });
        }

        // Remove single reminder
        function removeReminder(index) {
            reminders.splice(index, 1);
            displayReminders();
        }

        // Stop ringing manually
        function stopRing(index) {
            if (alarmSound) alarmSound.pause();
            reminders[index].ringing = false;
            displayReminders();
        }

        // Reset all reminders
        function resetAll() {
            if (alarmSound) alarmSound.pause();
            reminders = [];
            displayReminders();
        }

        // Check time every second
        setInterval(() => {
            const now = new Date();
            const currentTime = now.toTimeString().slice(0, 5);

            reminders.forEach((r, index) => {
                if (r.time === currentTime && !r.ringing) {
                    r.ringing = true;
                    displayReminders();
                    if (alarmSound) alarmSound.play();
                }
            });
        }, 1000);
    </script>

</body>

</html>